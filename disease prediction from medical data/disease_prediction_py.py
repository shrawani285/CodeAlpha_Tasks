# -*- coding: utf-8 -*-
"""disease_prediction.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1KHnXcxw7pLr_GN1Gio86bldVVgs_L0zB
"""

# Disease Prediction from Medical Data (Diabetes)
# Corrected code for Google Colab: Downloads the dataset automatically to avoid FileNotFoundError.

import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score

# Download and load the Pima Indians Diabetes dataset (if not already present)
# This dataset has no headers in the raw file, so we add column names manually.
url = "https://raw.githubusercontent.com/jbrownlee/Datasets/master/pima-indians-diabetes.data.csv"
column_names = ['Pregnancies', 'Glucose', 'BloodPressure', 'SkinThickness', 'Insulin', 'BMI', 'DiabetesPedigreeFunction', 'Age', 'Outcome']
data = pd.read_csv(url, header=None, names=column_names)

# Check the data (optional: uncomment to see first few rows)
# print(data.head())

# Split features and target
X = data.drop("Outcome", axis=1)
y = data["Outcome"]

# Train-test split
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)

# Train model
model = RandomForestClassifier(random_state=42)  # Added random_state for reproducibility
model.fit(X_train, y_train)

# Predict
predictions = model.predict(X_test)

# Accuracy
accuracy = accuracy_score(y_test, predictions)
print("Model Accuracy:", accuracy)